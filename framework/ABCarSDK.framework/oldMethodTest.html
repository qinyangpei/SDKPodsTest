<!DOCTYPE html>
<html>
<head lang="zh-cmn-Hans">
    <meta charset="UTF-8">
    <title>DSBridge Test</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=0.5,user-scalable=no"/>
<!--    <script src="https://cdn.jsdelivr.net/npm/dsbridge/dist/dsbridge.js"> </script>-->
<!--    <script type="text/javascript" src="utils.js"></script>-->
<!--    <script type="text/javascript" src="dsbridge.js">-->
    <script>
        //alert('111110000');
        const ua = window.navigator.userAgent;
        document.write(ua)
        //setTimeout(() => {
                   //var returnValue = window.Hybrid.getToken();
                   //alert('1111'+returnValue);
        //}, 0)
        
       ;
    </script>
</head>
<style>
    .btn {
        text-align: center;
        background: #eee;
        color: #000;
        padding: 20px;
        margin: 30px;
        font-size: 24px;
        border-radius: 4px;
        box-shadow: 4px 2px 10px #999;
    }

    .btn:active {
        opacity: .7;
        box-shadow: 4px 2px 10px #555;
    }
</style>
<body>

    <div id="showw">00000000</div>
    <div style="background-color:green">兼容旧的调用方法</div>
    
    <div class="btn" onclick="shareAction()">分享</div>
    <div class="btn" onclick="openWebViewAct()">打开WebView</div>
    <div class="btn" onclick="webViewColse()">关闭WebView</div>
    <div class="btn" onclick="phoneCallTest()">打电话</div>
    <div class="btn" onclick="phoneCallList()">打电话列表</div>
    <div class="btn" onclick="loginAction()">登录</div>
    <div class="btn" onclick="startNavigation()">地图导航</div>
    <div class="btn" onclick="paySuccessMethod()">支付成功回调</div>
    <div class="btn" onclick="getCameraAuthorityAct()">相机权限</div>
    <div class="btn" onclick="getPhotoLibraryAuthorityAct()">相册权限</div>
    <div class="btn" onclick="getAppVersionAct()">获取版本</div>
    <div class="btn" onclick="getTokenAct()">获取Token</div>
    
    <div class="btn" onclick="chaweizhang()">查违章</div>
    <div class="btn" onclick="jiayouka()">加油卡</div>
    <div class="btn" onclick="nianjianxuanzecheliang()">年检选择车辆</div>
    <div class="btn" onclick="quanbufuwu()">全部服务</div>
    <div class="btn" onclick="shangpinxiangqing()">商品详情</div>
    <div class="btn" onclick="shouye()">首页</div>
    <div class="btn" onclick="aiche()">爱车</div>
    <div class="btn" onclick="faxian()">发现</div>
    <div class="btn" onclick="wode()">我的</div>
    
    <div style="background-color:green">新的调用方法</div>
    <div class="btn" onclick="NewShareAct()">新分享方法</div>
    <div class="btn" onclick="NewopenWebViewAct()">新打开方法</div>
    <div class="btn" onclick="NewCloseAct()">新关闭方法</div>
    <div class="btn" onclick="NewTelephoneAct()">新打电话方法</div>
    <div class="btn" onclick="NewTelephoneListAct()">新打电话列表方法</div>
    <div class="btn" onclick="NewLoginAct()">新登录调用方法</div>
    <div class="btn" onclick="NewNavigationAct()">新导航调用方法</div>
    <div class="btn" onclick="NewpaySuccessAct()">新支付成功调用方法</div>
    <div class="btn" onclick="NewVersionAct()">新获取版本号调用方法</div>
    <div class="btn" onclick="NewgetTokenAct()">新获取Token</div>
    <div class="btn" onclick="NewNewActionAct()">新新动作调用方法</div>
    <div class="btn" onclick="NewCameraAct()">新相机调用方法</div>
    <div class="btn" onclick="NewphotoAct()">新相册调用方法</div>
    
    <div class="btn" onclick="Newchaweizhang()">新查违章</div>
    <div class="btn" onclick="Newjiayouka()">新加油卡</div>
    <div class="btn" onclick="Newnianjianxuanzecheliang()">新年检选择车辆</div>
    <div class="btn" onclick="Newquanbufuwu()">新全部服务</div>
    <div class="btn" onclick="Newshangpinxiangqing()">新商品详情</div>
    <div class="btn" onclick="Newshouye()">新首页</div>
    <div class="btn" onclick="Newaiche()">新爱车</div>
    <div class="btn" onclick="Newfaxian()">新发现</div>
    <div class="btn" onclick="Newwode()">新我的</div>
<!--    <div class="btn" onclick="reloadWebViewAct()">刷新WebView</div>-->

    
<script>
    
    //let btn1 = document.getElementsByClassName('btn')[0].innerHTML
    //alert(btn1)
    
    function shareResult(respondData) {
        var str = JSON.stringify(respondData);
        alert('旧版本分享回调'+str)
    }
    
    function getTokenAct() {
        var returnValue = window.Hybrid.getAccessToken()
        alert(returnValue)
        console.log('getToken Back'+returnValue)
    }

    function setAccessToken(respondData) {
        alert(respondData)
    }

    function addValue(res) {
        alert('6666666')
        return res
    }
    
    function shareAction() {
        //alert('111111')
        var requestData = {
            "des": "产品分享测试content",
            "imageUrl":"http://czhimg.aibaoxian.com/test/manage/5677cd30ad3a5fe.png",
            "platform": [1,2,3,4,5],
            "shareType": 1,
            "shareUrl": "https://www.baidu.com",
            "title": "产品分享测试"
        }
        window.Hybrid.share(requestData)
    }
    
    function openWebViewAct() {
        //alert('111111')
        var requestData = {
            "isimmersionstatusbar": 2,
            "isnativehead": 2,
            "targetUrl": "https://www.baidu.com"
        }
        window.Hybrid.openWebView(requestData)
    }

    function webViewColse() {
        //alert('111111')
        window.Hybrid.goBack()
    }

    function phoneCallTest() {
        //alert('111111')
        window.Hybrid.telephone("17700285869")
    }

    function phoneCallList() {
        //alert('111111')
        var phoneNumberList = new Array("17700285869","18310500389")
        window.Hybrid.telephoneList(phoneNumberList)
    }

    function loginAction() {
        //alert('111111')
        window.Hybrid.login()
    }

    function startNavigation() {
        //alert('111111')116.190337,39.90745
        var requestData = {
            "latitude":39.90745,
            "longitude":116.190337,
            "address":"北京市石景山区古城地铁站"
        }
        window.Hybrid.goMapNavi(requestData)
    }

    function getCameraAuthorityAct() {
        //alert('111111')
        var returnValue = window.Hybrid.getCameraAuthority()
        alert("接收返回信息"+returnValue)
    }

    function getPhotoLibraryAuthorityAct() {
        //alert('111111')
        var returnValue = window.Hybrid.getPhotoLibraryAuthority()
        alert("接收返回信息"+returnValue)
    }

    function paySuccessMethod() {
        //alert('111111')
        window.Hybrid.paySuccess()
    }



    function getAppVersionAct() {
        alert('111111')
        var returnValue = window.Hybrid.getAppVersion()
        alert("接收返回信息"+returnValue)
        document.getElementById("showw").innerHTML = returnValue
    }





    function chaweizhang() {
        alert('11111')
        var requestData = {
            "redirectUrl": "native:chaweizhang"
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function jiayouka() {
        var requestData = {
            "redirectUrl": "native:jiayouka"
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function nianjianxuanzecheliang() {
        var requestData = {
            "redirectUrl": "native:nianjian"
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function quanbufuwu() {
        var requestData = {
            "redirectUrl": "native:quanbu"
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function shangpinxiangqing() {
        var requestData = {
            "redirectUrl": "native:goods",
            "goodsId": 10
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function shouye() {
        var requestData = {
            "redirectUrl": "native:shouye"
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function aiche() {
        var requestData = {
            "redirectUrl": "native:aiche"
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function faxian() {
        var requestData = {
            "redirectUrl": "native:faxian"
        }
        window.Hybrid.reOrderAction(requestData)
    }

    function wode() {
        var requestData = {
            "redirectUrl": "native:wode"
        }
        window.Hybrid.reOrderAction(requestData)
    }


function NewShareAct() {
    var requestData = {
        "des": "联调分享测试content",
        "imageUrl": "http://czhimg.aibaoxian.com/test/manage/5677cd30ad3a5fe.png",
        "platform": [1, 2, 3, 4, 5],
        "shareType": 1,
        "shareUrl": "http://suo.im/4JzbiN",
        "title": "产品分享测试"
    }
    dsBridge.call("share",requestData, function (respondData) {
                  alert(respondData);
                  })
}

function NewopenWebViewAct() {
    var requestData = {
        "isimmersionstatusbar": 2,
        "isnativehead": 2,
        "targetUrl": "https://www.baidu.com"
    }
    dsBridge.call("newAction", requestData, function(responseData) {
                  
                  })
}

function NewCloseAct() {
    var requestData = {
        //"action": "homeRefreshGift"
    }
    dsBridge.call("close", requestData, function(respondData){
                  console.log(respondData)
                  })
}

function NewTelephoneAct() {
    //alert('11111')
    var requestData = {
        "phoneNumber": "4008282828"
    }
    dsBridge.call("telephone", requestData, function(requestData){
                  alert(requestData)
                  })
}

function NewTelephoneListAct() {
    var requestData = {
        "phoneNumberList": ["4008282828","11111111111"]
    }
    dsBridge.call("telephoneList", requestData,function(respondData){
                  console.log(respondData)
                  })
}

function NewLoginAct() {
    dsBridge.call("login", function(respondData){
                  console.log(respondData)
                  })
}

function NewNavigationAct() {
    var requestData = {
        "latitude": 39.910873,
        "longitude": 116.413677,
        "address": "北京市朝阳区建国门外大街2号院"
    }
    dsBridge.call("mapNavi", requestData, function(requestData){
                  console.log(respondData)
                  })
}

function NewpaySuccessAct() {
    dsBridge.call("paySuccess", function(respondData){
                  console.log(respondData)
                  alert(respondData)
                  })
}

function NewVersionAct() {
    //alert('666666')
    //console.log('777777777')
    dsBridge.call("getAppVersion",function (responseData) {
                  console.log(responseData)
                  alert(respondData)
                  })
}

function NewgetTokenAct() {
    dsBridge.call("getAppVersion",function (responseData) {
                  console.log(responseData)
                  alert(respondData)
                  })
}

function NewNewActionAct() {
    var requestData = {
        "isimmersionstatusbar": 2,
        "isnativehead": 2,
        "targetUrl": "http://www.aibao.com/col.jsp?id=126"
    }
    dsBridge.call("newAction", requestData,function(requestData){
                  console.log(respondData)
                  alert(respondData)
                  })
}

function NewCameraAct() {
    dsBridge.call("isHaveCameraPermission", function (responseData) {
                  console.log(responseData)
                  alert(respondData)
                  })
}

function NewphotoAct() {
    dsBridge.call("isHavePhotoPermission", function (responseData) {
                  console.log(responseData)
                  alert(respondData)
                  })
}

function Newchaweizhang() {
    var requestData = {
        "targetUrl": "native:chaweizhang"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newjiayouka() {
    var requestData = {
        "targetUrl": "native:jiayouka"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newnianjianxuanzecheliang() {
    var requestData = {
        "targetUrl": "native:nianjian"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newquanbufuwu() {
    var requestData = {
        "targetUrl": "native:quanbu"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newshangpinxiangqing() {
    var requestData = {
        "targetUrl": "native:goods",
        "goodsId": 10
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newshouye() {
    var requestData = {
        "targetUrl": "native:shouye"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newaiche() {
    var requestData = {
        "targetUrl": "native:aiche"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newfaxian() {
    var requestData = {
        "targetUrl": "native:faxian"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}

function Newwode() {
    var requestData = {
        "targetUrl": "native:wode"
    }
    dsBridge.call("newAction", requestData, function(respondData) {
                  
                  })
}




</script>
</body>
</html>
